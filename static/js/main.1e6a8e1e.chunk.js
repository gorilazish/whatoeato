(window["webpackJsonpwhat-to-eat"]=window["webpackJsonpwhat-to-eat"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(67),u=n(18),l=n(68),m=n.n(l),s=(n(93),n(63),{apiKey:"AIzaSyD99CEVcpATt7i6Jb7YNpnhQ7rhOwlWOto",googleCustomSearchApiKey:"AIzaSyBvQK3hCYE6cNRm1bqkWCPrxzjrmWIB77k",authDomain:"what-to-eato.firebaseapp.com",databaseURL:"https://what-to-eato.firebaseio.com",projectId:"what-to-eato",storageBucket:"",messagingSenderId:"18156276179",appId:"1:18156276179:web:ace837d492f4f20b7b4726"});function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var d=m()("app:db");u.initializeApp(s);var f=u.firestore();f.enablePersistence().catch((function(e){console.error(e)}));var g=function(e){return d("save recipe: %o",e),f.collection("recipes").add(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{updatedAt:u.firestore.Timestamp.fromDate(new Date)}))},h=function(e){return d("delete: %s",e),f.collection("recipes").doc(e).delete()},v=n(12),b=n(75),E=n(147),y=n(24),O=n(30),j=n(15),w=n.n(j),x=n(22),k=n(11),C=a.createContext({user:void 0}),S=function(){return Object(a.useContext)(C).user},W=function(){var e=r.a.useState((function(){var e=u.auth().currentUser;return{initializing:!e,user:e}})),t=Object(k.a)(e,2),n=t[0],a=t[1];function c(e){a({initializing:!1,user:e})}return r.a.useEffect((function(){var e=u.auth().onAuthStateChanged(c);return function(){return e()}}),[]),n},P=function(e,t){try{return u.auth().signInWithEmailAndPassword(e,t)}catch(n){throw console.error(n),n}},I=function(){var e=Object(x.a)(w.a.mark((function e(t,n,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.auth().createUserWithEmailAndPassword(n,a);case 3:return e.abrupt("return",u.auth().currentUser.updateProfile({displayName:t}));case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n,a){return e.apply(this,arguments)}}(),B=function(){return u.auth().signOut()},D=n(144),A=n(134),F=n(148),z=n(138),N=n(139);var L=Object(O.f)((function(e){var t=Object(a.useState)(""),n=Object(k.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),u=Object(k.a)(i,2),l=u[0],m=u[1];function s(){return(s=Object(x.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P(c,l);case 3:e.history.replace("/"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement(A.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(F.a,{htmlFor:"email"},"Email Address"),r.a.createElement(z.a,{id:"email",name:"email",autoComplete:"off",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(A.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(F.a,{htmlFor:"password"},"Password"),r.a.createElement(z.a,{name:"password",type:"password",id:"password",autoComplete:"off",value:l,onChange:function(e){return m(e.target.value)}})),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return s.apply(this,arguments)}},"Sign in"),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:y.b,to:"/signup"},"Signup"))}));var q=Object(O.f)((function(e){var t=Object(a.useState)(""),n=Object(k.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),u=Object(k.a)(i,2),l=u[0],m=u[1],s=Object(a.useState)(""),p=Object(k.a)(s,2),d=p[0],f=p[1];function g(){return(g=Object(x.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{I(c,l,d),e.history.replace("/")}catch(n){alert(n.message)}case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement(A.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(F.a,{htmlFor:"name"},"Name"),r.a.createElement(z.a,{id:"name",name:"name",autoComplete:"off",autoFocus:!0,value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(A.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(F.a,{htmlFor:"email"},"Email Address"),r.a.createElement(z.a,{id:"email",name:"email",autoComplete:"off",value:l,onChange:function(e){return m(e.target.value)}})),r.a.createElement(A.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(F.a,{htmlFor:"password"},"Password"),r.a.createElement(z.a,{name:"password",type:"password",id:"password",autoComplete:"off",value:d,onChange:function(e){return f(e.target.value)}})),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return g.apply(this,arguments)}},"Signup"),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",component:y.b,to:"/login"},"Go back to Login"))})),K=n(13),R=n(72),U=n(50),_=n(140),J=n(141),T=n(142),Y=n(143),Q=n(73),G=n.n(Q),H=function(e){var t=e.children,n=document.getElementById("modal-root");return o.a.createPortal(t,n)};function M(){var e=Object(v.a)(["\n    height: 70vh;\n    width: 80vw;\n    background: white;\n    padding: 5%;\n    overflow: auto;\n"]);return M=function(){return e},e}function V(){var e=Object(v.a)(["\n    top: 0;\n    left: 0;\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background: rgba(0,0,0, .5);\n    z-index: 11;\n"]);return V=function(){return e},e}var $=K.a.div(V()),X=K.a.div(M()),Z=function(e){var t=e.children;return e.isOpen?r.a.createElement(H,null,r.a.createElement($,null,r.a.createElement(X,null,t))):null};function ee(){var e=Object(v.a)(["\n  height: 100%;\n  padding-top: 75%;\n  display: block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return ee=function(){return e},e}function te(){var e=Object(v.a)(["\n  width: 75%;\n  margin: 0 auto;\n  background-color: #fff9f9;\n  margin-top: -40px;\n  padding: 10px 15px;\n  text-align: center;\n\n  :hover {\n    box-shadow: 0 0.5em 0.5em -0.4em rgba(33, 33, 33, 0.2);\n    transform: translateY(-0.25em);\n  }\n"]);return te=function(){return e},e}function ne(){var e=Object(v.a)(["\n  display: grid;\n"]);return ne=function(){return e},e}function ae(){var e=Object(v.a)(["\n  max-width: 345px;\n  width: 100%;\n"]);return ae=function(){return e},e}var re=K.a.div(ae()),ce=K.a.div(ne()),oe=K.a.div(te()),ie=K.a.div(ee());function ue(e){var t=e.id,n=e.title,c=(e.author,e.ingredients),o=e.description,i=e.image,u=e.relatedLinks,l=void 0===u?[]:u,m=(e.style,Object(a.useState)(!1)),s=Object(k.a)(m,2),p=s[0],d=s[1],f=function(){d(!p)};return r.a.createElement(re,null,r.a.createElement(ce,null,r.a.createElement("div",null,i&&r.a.createElement(ie,{style:{backgroundImage:"url(".concat(i,")")}})),r.a.createElement(oe,{onClick:f},r.a.createElement("h2",{style:{fontSize:"18px"}},n))),r.a.createElement(Z,{isOpen:p},r.a.createElement("button",{onClick:f},"CLOSE"),i&&r.a.createElement(ie,{style:{backgroundImage:"url(".concat(i,")"),height:0,paddingTop:"25%"}}),r.a.createElement(U.a,{variant:"h5",component:"h2"},n),r.a.createElement(_.a,{dense:!0},c&&c.map((function(e){return r.a.createElement(J.a,{key:"".concat(e.name,"+").concat(e.amount)},r.a.createElement(T.a,{primary:e.name,secondary:e.amount}))}))),r.a.createElement(_.a,null,l.length>0&&l.slice(0,3).map((function(e,t){return r.a.createElement("a",{href:e.link,key:t},r.a.createElement(U.a,{color:"textSecondary",gutterBottom:!0},e.title))}))),r.a.createElement(U.a,null,o),r.a.createElement(Y.a,{"aria-label":"delete",onClick:function(){h(t)}},r.a.createElement(G.a,null))))}function le(){var e=Object(v.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 10px;\n\n  @media (min-width: 640px) {\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-gap: 35px;\n  }\n"]);return le=function(){return e},e}var me=K.a.div(le());function se(){var e=S(),t=Object(R.a)(f.collection("recipes").where("userId","==",e.uid).orderBy("title","asc"),{idField:"id"}),n=Object(k.a)(t,3),a=n[0];n[1],n[2];console.log(a);var c=a;return r.a.createElement(me,null,c&&c.length>0&&c.map((function(e,t){return r.a.createElement(ue,Object.assign({key:t,id:e.id,title:e.title},e))})))}var pe=n(49),de=n(146),fe=n(106),ge=n(145),he=n(74),ve=n.n(he);function be(){var e=Object(v.a)(["\n  height: 100%;\n  padding-top: 56.25%;\n  display: block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return be=function(){return e},e}var Ee=function(){var e=Object(x.a)(w.a.mark((function e(t){var n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"recipe",n="https://www.googleapis.com/customsearch/v1?key=".concat(s.googleCustomSearchApiKey,"&cx=007051031288274791484:letviqy3cr1&q=").concat(t,"%20").concat("recipe"),e.next=5,fetch(n);case 5:return e.next=7,e.sent.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),ye=K.a.div(be());var Oe=Object(O.f)((function(e){e.history;var t=S(),n=Object(a.useState)(""),c=Object(k.a)(n,2),o=c[0],i=c[1],u=Object(a.useState)([]),l=Object(k.a)(u,2),m=l[0],s=l[1],p=Object(a.useState)(0),d=Object(k.a)(p,2),f=d[0],h=d[1],v=Object(a.useState)(""),b=Object(k.a)(v,2),E=b[0],y=b[1],O=Object(a.useState)(""),j=Object(k.a)(O,2),C=j[0],W=j[1],P=Object(a.useState)([{name:"",amount:""}]),I=Object(k.a)(P,2),B=I[0],D=I[1],L=Object(a.useState)(""),q=Object(k.a)(L,2),K=q[0],R=q[1],_=Object(a.useState)(""),J=Object(k.a)(_,2),T=J[0],Y=J[1],Q=function(e){return function(){""===e.name&&""!==E&&""!==C?function(e){var t=Object(pe.a)(B).filter((function(e){return""!==e.name}));D([].concat(Object(pe.a)(t),[e,{name:"",amount:""}])),y(""),W("")}({name:E,amount:C}):""!==e.name&&function(e){var t=Object(pe.a)(B).filter((function(t){return t.name!==e.name}));D(t)}(e)}},G=function(){var e=Object(x.a)(w.a.mark((function e(){var t,n,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ee(o);case 4:(t=e.sent).items&&t.items.length>0&&(n=t.items,a=[],n.forEach((function(e){var t;e.pagemap&&(e.pagemap.cse_thumbnail&&(t=e.pagemap.cse_thumbnail[0].src),e.pagemap.cse_image&&(t=e.pagemap.cse_image[0].src),e.pagemap.image&&(t=e.pagemap.image[0].src)),t&&a.push(t)})),a.length>0&&s(a));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},r.a.createElement("div",null,r.a.createElement(N.a,{onClick:function(){return h(0===f?m.length-1:f-1)}},"Prev"),f,m&&m[f]&&r.a.createElement(ye,{style:{backgroundImage:"url(".concat(m[f],")")}}),r.a.createElement(N.a,{onClick:function(){return h(f===m.length-1?0:f+1)}},"Next")),r.a.createElement(A.a,{margin:"normal",required:!0,fullWidth:!0},r.a.createElement(F.a,{htmlFor:"name"},"Name that stuff"),r.a.createElement(z.a,{onBlur:G,id:"title",name:"title",autoComplete:"off",autoFocus:!0,value:o,onChange:function(e){return i(e.target.value)},style:{marginBottom:"50px"}})),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"100px",flexDirection:"column"}},r.a.createElement(U.a,{component:"h2",variant:"h6",gutterBottom:!0},"Ingredients list"),B.map((function(e,t){return r.a.createElement(de.a,{key:"".concat(e.name,"-").concat(indexedDB),label:r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(fe.a,{value:e.name||E,onChange:function(e){return y(e.target.value)},placeholder:"Name",disabled:!!e.name}),r.a.createElement(fe.a,{value:e.amount||C,onChange:function(e){return W(e.target.value)},placeholder:"Amount",disabled:!!e.amount})),onDelete:Q(e),deleteIcon:e.name?void 0:r.a.createElement(ve.a,null),style:{height:"100%",marginBottom:"15px",padding:"5px"}})})),r.a.createElement(A.a,{margin:"normal",fullWidth:!0},r.a.createElement(ge.a,{id:"description",name:"description",label:"Description",multiline:!0,rows:"4",rowsMax:"10",value:K,onChange:function(e){return R(e.target.value)},margin:"normal"})),r.a.createElement(A.a,{margin:"normal",fullWidth:!0},r.a.createElement(F.a,{htmlFor:"name"},"Recipe link"),r.a.createElement(z.a,{id:"recipeLink",name:"recipeLink",autoComplete:"off",autoFocus:!0,value:T,onChange:function(e){return Y(e.target.value)},style:{marginBottom:"50px"}}))),r.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",onClick:function(e){if(t){var n={title:o,userId:t.uid,author:t.displayName||"",description:K,recipeLink:T,ingredients:B,image:m[f]};g(n)}}},"Add"))}));function je(){var e=Object(v.a)(["\n    top: 0;\n    left: 0;\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return je=function(){return e},e}K.a.div(je());var we=Object(O.f)((function(e){var t=Object(a.useState)(!1),n=Object(k.a)(t,2),c=n[0],o=n[1];return S()?r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{color:"secondary",variant:"contained",onClick:function(){return o(!c)}},"New"),r.a.createElement(Z,{isOpen:c},r.a.createElement("button",{onClick:function(){return o(!1)}},"CLOSE"),r.a.createElement(Oe,null)),r.a.createElement("br",null),r.a.createElement(se,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{type:"submit",variant:"contained",color:"secondary",component:y.b,to:"/login"},"Login"),r.a.createElement(N.a,{type:"submit",variant:"contained",color:"secondary",component:y.b,to:"/signup"},"Register"))}));n(103);function xe(){var e=Object(v.a)(["\n  display: grid;\n  grid-template-columns: 200px 1fr 200px;\n  margin: 0 auto;\n  padding: 10px;\n"]);return xe=function(){return e},e}function ke(){var e=Object(v.a)(["\n  position: fixed;\n  top: 0;\n  height: 60px;\n  width: 100%;\n  border-bottom: 2px solid coral;\n  background: white;\n  z-index: 10;\n"]);return ke=function(){return e},e}var Ce=K.a.nav(ke()),Se=K.a.div(xe());function We(e){var t=e.user;function n(){return(n=Object(x.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(Ce,null,r.a.createElement(Se,null,t&&t.displayName?r.a.createElement(U.a,{component:"h1",variant:"h5"},"Hello ",t.displayName):r.a.createElement(U.a,{component:"h1",variant:"h5"},"Welcome"),r.a.createElement("div",null),r.a.createElement("div",null,t&&r.a.createElement(N.a,{type:"submit",variant:"contained",color:"secondary",onClick:function(){return n.apply(this,arguments)}},"Logout"))))}function Pe(){var e=Object(v.a)(["\n  margin-top: 60px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px 30px;\n"]);return Pe=function(){return e},e}function Ie(){var e=Object(v.a)(["\n  width: auto;\n  margin: 0 5px;\n\n  @media (min-width: 420px) {\n    width: 95vw;\n    margin: 0 auto;\n  }\n"]);return Ie=function(){return e},e}var Be=Object(b.a)(),De=K.a.main(Ie()),Ae=K.a.div(Pe());var Fe=function(e){var t=W(u.auth()),n=t.initializing,a=t.user;return!0!==n?r.a.createElement(De,null,r.a.createElement(Ae,null,r.a.createElement(We,{user:a}),r.a.createElement(C.Provider,{value:{initializing:n,user:a}},r.a.createElement(E.a,{theme:Be},r.a.createElement(y.a,{basename:"/whatoeato"},r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/",component:we}),r.a.createElement(O.a,{exact:!0,path:"/login",component:L}),r.a.createElement(O.a,{exact:!0,path:"/signup",component:q}))))))):r.a.createElement("div",{id:"loader"},r.a.createElement(D.a,null))};n(104);o.a.render(r.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},81:function(e,t,n){e.exports=n(105)}},[[81,1,2]]]);
//# sourceMappingURL=main.1e6a8e1e.chunk.js.map