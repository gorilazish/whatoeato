(this["webpackJsonpwhat-to-eat"]=this["webpackJsonpwhat-to-eat"]||[]).push([[0],{128:function(e,n,t){},129:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(12),c=t.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(14),u=t.n(o),l=t(17),s=t(41),d=t(15),p=t(69),f=t.n(p),m=(t(100),t(61),{apiKey:"AIzaSyD99CEVcpATt7i6Jb7YNpnhQ7rhOwlWOto",googleCustomSearchApiKey:"AIzaSyBvQK3hCYE6cNRm1bqkWCPrxzjrmWIB77k",authDomain:"what-to-eato.firebaseapp.com",databaseURL:"https://what-to-eato.firebaseio.com",projectId:"what-to-eato",storageBucket:"",messagingSenderId:"18156276179",appId:"1:18156276179:web:ace837d492f4f20b7b4726"}),b=t(10),g=r.createContext({user:void 0}),A=function(){return Object(r.useContext)(g).user},h=function(){var e=a.a.useState((function(){var e=d.auth().currentUser;return{initializing:!e,user:e}})),n=Object(b.a)(e,2),t=n[0],r=n[1];function i(e){r({initializing:!1,user:e})}return a.a.useEffect((function(){var e=d.auth().onAuthStateChanged(i);return function(){return e()}}),[]),t},v=function(e,n){try{return d.auth().signInWithEmailAndPassword(e,n)}catch(t){throw console.error(t),t}},w=function(){var e=Object(l.a)(u.a.mark((function e(n,t,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.auth().createUserWithEmailAndPassword(t,r);case 3:if(!(a=e.sent).user){e.next=7;break}return e.next=7,k(a.user.uid,{name:n});case 7:return e.abrupt("return",d.auth().currentUser.updateProfile({displayName:n}));case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t,r){return e.apply(this,arguments)}}(),O=function(){return d.auth().currentUser},j=function(){return d.auth().signOut()};function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(t,!0).forEach((function(n){Object(s.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C=f()("app:db");d.initializeApp(m);var y=d.firestore();y.enablePersistence().catch((function(e){console.error(e)}));var k=function(e,n){return y.collection("users").doc(e).set(n).catch((function(e){return console.log(e)}))},I=function(e){return C("save recipe: %o",e),y.collection("recipes").add(E({},e,{updatedAt:d.firestore.Timestamp.fromDate(new Date)}))},B=function(e){return C("delete: %s",e),y.collection("recipes").doc(e).delete()},M=function(e,n){return C("update recipe: %o",n),y.collection("recipes").doc(e).set(E({},n,{updatedAt:d.firestore.Timestamp.fromDate(new Date)}),{merge:!0})},S=function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=O())){e.next=6;break}return e.next=4,y.collection("users").doc(t.uid);case 4:return r=e.sent,e.abrupt("return",r.update({queuedRecipeIds:d.firestore.FieldValue.arrayUnion(n)}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=O())){e.next=6;break}return e.next=4,y.collection("users").doc(t.uid);case 4:return r=e.sent,e.abrupt("return",r.update({queuedRecipeIds:d.firestore.FieldValue.arrayRemove(n)}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(e){var n;if(e.pagemap&&(e.pagemap.cse_thumbnail&&(n=e.pagemap.cse_thumbnail[0].src),e.pagemap.cse_image&&(n=e.pagemap.cse_image[0].src),e.pagemap.image&&(n=e.pagemap.image[0].src)),n)return n},D=t(3),F=t(22),R=t(161),q=t(156),L=t(164),W=t(159),N=t(20),T=t(6);function U(){var e=Object(D.a)(["\n  padding: 10px 20px;\n  background: coral;\n  border: none;\n  text-align: center;\n  text-decoration: none;\n  color: black;\n  font-size: 1rem;\n  font-weight: bold;\n"]);return U=function(){return e},e}var Q=T.a.button(U()),J=Q.withComponent(F.a),H=function(e){var n=e.children,t=e.to,r=e.onClick,i=Object(N.a)(e,["children","to","onClick"]);if(t)return a.a.createElement(J,Object.assign({to:t},i),n);return a.a.createElement(Q,Object.assign({onClick:function(e){e.stopPropagation(),r&&r(e)}},i),n)};var V=function(e){var n=Object(r.useState)(""),t=Object(b.a)(n,2),i=t[0],c=t[1],o=Object(r.useState)(""),s=Object(b.a)(o,2),d=s[0],p=s[1];function f(){return(f=Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v(i,d);case 3:e.navigate("../",{replace:!0}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},a.a.createElement("h1",null,"Login with existing account"),a.a.createElement(q.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(L.a,{htmlFor:"email"},"Email Address"),a.a.createElement(W.a,{id:"email",name:"email",autoComplete:"off",autoFocus:!0,value:i,onChange:function(e){return c(e.target.value)}})),a.a.createElement(q.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(L.a,{htmlFor:"password"},"Password"),a.a.createElement(W.a,{name:"password",type:"password",id:"password",autoComplete:"off",value:d,onChange:function(e){return p(e.target.value)}})),a.a.createElement(H,{type:"submit",onClick:function(){return f.apply(this,arguments)}},"Sign in"))};var K=function(e){var n=Object(r.useState)(""),t=Object(b.a)(n,2),i=t[0],c=t[1],o=Object(r.useState)(""),s=Object(b.a)(o,2),d=s[0],p=s[1],f=Object(r.useState)(""),m=Object(b.a)(f,2),g=m[0],A=m[1];function h(){return(h=Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(i,d,g);case 3:e.navigate("../",{replace:!0}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},a.a.createElement("h1",null,"Create a user"),a.a.createElement(q.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(L.a,{htmlFor:"name"},"Name"),a.a.createElement(W.a,{id:"name",name:"name",autoComplete:"off",autoFocus:!0,value:i,onChange:function(e){return c(e.target.value)}})),a.a.createElement(q.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(L.a,{htmlFor:"email"},"Email Address"),a.a.createElement(W.a,{id:"email",name:"email",autoComplete:"off",value:d,onChange:function(e){return p(e.target.value)}})),a.a.createElement(q.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(L.a,{htmlFor:"password"},"Password"),a.a.createElement(W.a,{name:"password",type:"password",id:"password",autoComplete:"off",value:g,onChange:function(e){return A(e.target.value)}})),a.a.createElement(H,{type:"submit",onClick:function(){return h.apply(this,arguments)}},"Signup"))},X=t(33),G=t(4),Y=t(75),_=t.n(Y);function Z(){var e=Object(D.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50px;\n  border: none;\n  padding: 5px;\n  cursor: pointer;\n\n  @media (min-width: 640px) {\n    background-color: rgba(255, 127, 80, 0.8);\n    transition: background-color 0.1s ease-in-out;\n\n    :hover {\n      background-color: rgba(255, 127, 80, 1);\n    }\n  }\n"]);return Z=function(){return e},e}function $(){var e=Object(D.a)(["\n  background-position: center;\n  background-size: cover;\n  background-image: ",";\n  height: 30px;\n  width: 30px;\n"]);return $=function(){return e},e}var ee=T.a.div($(),(function(e){var n=e.src;return"url(".concat(n,")")})),ne=Object(T.a)(H)(Z());function te(e){e.children;var n=Object(N.a)(e,["children"]);return a.a.createElement(ne,n,a.a.createElement(ee,{style:{backgroundImage:"url(".concat(_.a,")")}}))}function re(){var e=Object(D.a)(["\n                    position: absolute;\n                    top: 5px;\n                    right: 5px;\n                  "]);return re=function(){return e},e}function ae(){var e=Object(D.a)(["\n            border-radius: 10px;\n            overflow: hidden;\n            box-shadow: 0 0.5em 0.5em -0.4em rgba(33, 33, 33, 0.2);\n          "]);return ae=function(){return e},e}function ie(){var e=Object(D.a)(["\n  background-position: center;\n  background-size: cover;\n  background-image: ",";\n  height: 30px;\n  width: 30px;\n"]);return ie=function(){return e},e}function ce(){var e=Object(D.a)(["\n  position: relative;\n  height: 100%;\n  display: block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  padding-top: 50%;\n"]);return ce=function(){return e},e}function oe(){var e=Object(D.a)(["\n  width: 95%;\n  margin: 0 auto;\n  background-color: #fff9f9;\n  padding: 10px 15px;\n  text-align: center;\n  margin-top: -8px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  z-index: 1;\n  border-radius: 10px;\n\n  box-shadow: 0 0.5em 0.5em -0.4em rgba(33, 33, 33, 0.2);\n"]);return oe=function(){return e},e}function ue(){var e=Object(D.a)(["\n  display: grid;\n  grid-template-rows: 75% 25%;\n  height: 100%;\n  margin: 5px;\n  cursor: pointer;\n\n  :hover > div {\n    box-shadow: 0 0.5em 0.5em -0.2em rgba(33, 33, 33, 0.2);\n  }\n"]);return ue=function(){return e},e}function le(){var e=Object(D.a)([""]);return le=function(){return e},e}var se=T.a.div(le()),de=T.a.div(ue()),pe=T.a.div(oe()),fe=T.a.div(ce());T.a.div(ie(),(function(e){var n=e.src;return"url(".concat(n,")")}));function me(e){var n=e.id,t=e.title,r=(e.ingredients,e.image),a=e.onCtaClick,i=(e.ctaLabel,Object(N.a)(e,["id","title","ingredients","image","onCtaClick","ctaLabel"]));return Object(G.c)(se,i,Object(G.c)(de,{onClick:function(e){var t="".concat(""===window.location.pathname.replace("/","")?"":window.location.pathname).concat("/"!==window.location.pathname[window.location.pathname.length-1]?"/":"").concat(n);Object(F.c)(t)}},Object(G.c)("div",{css:Object(G.b)(ae())},r&&Object(G.c)(fe,{style:{backgroundImage:"url(".concat(r,")")}},a&&Object(G.c)(te,{css:Object(G.b)(re()),onClick:function(){a&&a(n)}}))),Object(G.c)(pe,null,Object(G.c)("h2",{style:{fontSize:"1.1rem",margin:"0",fontWeight:"normal"}},t))))}function be(){var e=Object(D.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: repeat(1, minmax(75px, auto));\n  grid-gap: 25px;\n\n  @media (min-width: 640px) {\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-gap: 25px;\n  }\n"]);return be=function(){return e},e}var ge=T.a.div(be());function Ae(e){var n=e.recipes;return a.a.createElement("div",null,a.a.createElement(ge,null,n&&n.length>0&&n.map((function(e,n){return a.a.createElement(me,Object.assign({key:n,id:e.id,title:e.title},e))}))))}function he(){var e=Object(D.a)(["\n            padding: 0 10px;\n            transition: all 0.35s ease;\n            font-size: ",";\n          "]);return he=function(){return e},e}function ve(){var e=Object(D.a)(["\n        transition: all 0.35s ease;\n        padding: ",";\n        ","\n      "]);return ve=function(){return e},e}function we(){var e=Object(D.a)(["\n  display: grid;\n  grid-gap: 10px;\n\n  overflow-x: scroll;\n  scroll-snap-type: x proximity;\n  padding-bottom: calc(0.75 * var(--gutter));\n  margin-bottom: calc(-0.25 * var(--gutter));\n\n  grid-template-columns: ",";\n\n  @media (min-width: 640px) {\n    grid-template-columns: ",";\n  }\n\n  @media (min-width: 1200px) {\n    grid-template-columns: ",";\n  }\n"]);return we=function(){return e},e}function Oe(){var e=Object(D.a)(["\n  width: 100vw;\n  background: rgba(250, 135, 127, 0.49);\n"]);return Oe=function(){return e},e}var je=T.a.div(Oe()),xe=T.a.div(we(),(function(e){var n=e.itemCount;return"repeat(".concat(n,", 75%)")}),(function(e){var n=e.itemCount;return"repeat(".concat(n,", 35%)")}),(function(e){var n=e.itemCount;return"repeat(".concat(n,", 20%)")})),Ee=function(e){var n=e.recipes,t=function(e){z(e)},r=!n||!n.length;return Object(G.c)(je,{css:Object(G.b)(ve(),r?"10px 0":"20px 0",r&&"background: rgba(250, 135, 127, 0.20);")},Object(G.c)("div",null,Object(G.c)("h2",{css:Object(G.b)(he(),r?"1rem":"1.5rem")},"My Queue".concat(r?" is empty":""))),n&&n.length>0&&Object(G.c)(xe,{itemCount:n.length},n.map((function(e,n){return Object(G.c)(me,Object.assign({key:n,onCtaClick:t,ctaLabel:"Remove from queue",style:{scrollSnapAlign:"center",padding:"5px"}},e))}))))},Ce=t(47),ye=t(160),ke=t(130),Ie=t(162),Be=t(54);function Me(){var e=Object(D.a)(["\n  min-height: 100vh;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  background: white;\n\n  @media (min-width: 640px) {\n    min-height: auto;\n    width: 80vw;\n    margin: 10vh auto;\n  }\n"]);return Me=function(){return e},e}function Se(){var e=Object(D.a)(["\n  display: none;\n\n  @media (max-width: 640px) {\n    display: block;\n    height: 40vh;\n    width: 100vw;\n    background: transparent;\n  }\n"]);return Se=function(){return e},e}function ze(){var e=Object(D.a)(["\n  display: block;\n  z-index: 12;\n\n  @media (min-width: 640px) {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n  }\n"]);return ze=function(){return e},e}var Pe=Object(T.a)(Be.b)(ze()),De=T.a.div(Se()),Fe=Object(T.a)(Be.a)(Me()),Re=function(e){var n=e.children,t=e.isOpen,r=e.onDismiss,i=e.style;return a.a.createElement(Pe,{isOpen:t,onDismiss:r},a.a.createElement(De,null),a.a.createElement("button",{style:{visibility:"collapse"}},"FAKE BUTTON"),a.a.createElement(Fe,{"aria-label":"modal",style:i},n))},qe=t(76),Le=t.n(qe);function We(){var e=Object(D.a)(["\n  background: transparent;\n  padding: 7px 12px;\n  border: 2px solid lightgrey;\n  color: lightgrey;\n  border-radius: 4px;\n  font-size: 0.9rem;\n\n  :hover {\n    border-color: darkgray;\n    color: darkgray;\n  }\n"]);return We=function(){return e},e}function Ne(){var e=Object(D.a)(["\n  margin-top: 10px;\n  padding: 15px 30px;\n  box-shadow: 0 2px 9px -2px rgba(33, 33, 33, 0.2);\n"]);return Ne=function(){return e},e}function Te(){var e=Object(D.a)(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return Te=function(){return e},e}function Ue(){var e=Object(D.a)(["\n  position: relative;\n  height: 100%;\n  padding-top: 56.25%;\n  display: block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  @media (min-width: 640px) {\n    padding-top: 40%;\n  }\n"]);return Ue=function(){return e},e}function Qe(){var e=Object(D.a)(["\n  padding: 20px;\n"]);return Qe=function(){return e},e}var Je=function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"recipe",t="https://www.googleapis.com/customsearch/v1?key=".concat(m.googleCustomSearchApiKey,"&cx=007051031288274791484:letviqy3cr1&q=").concat(n,"%20").concat("recipe"),e.next=5,fetch(t);case 5:return e.next=7,e.sent.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),He=T.a.div(Qe()),Ve=T.a.div(Ue()),Ke=T.a.div(Te()),Xe=T.a.div(Ne()),Ge=Object(T.a)(H)(We());var Ye=function(e){var n=e.onClose,t=e.navigate,i=e.id,c=Object(X.c)(i?y.doc("recipes/".concat(i)):null),o=Object(b.a)(c,3),s=o[0],d=o[1],p=(o[2],A()),f=Object(r.useState)(!1),m=Object(b.a)(f,2),g=(m[0],m[1]),h=Object(r.useState)(""),v=Object(b.a)(h,2),w=v[0],O=v[1],j=Object(r.useState)([]),x=Object(b.a)(j,2),E=x[0],C=x[1],k=Object(r.useState)(0),B=Object(b.a)(k,2),S=B[0],z=B[1],D=Object(r.useState)(""),F=Object(b.a)(D,2),R=F[0],N=F[1],T=Object(r.useState)(""),U=Object(b.a)(T,2),Q=U[0],J=U[1],V=Object(r.useState)([{name:"",amount:""}]),K=Object(b.a)(V,2),G=K[0],Y=K[1],_=Object(r.useState)(""),Z=Object(b.a)(_,2),$=Z[0],ee=Z[1],ne=Object(r.useState)(""),te=Object(b.a)(ne,2),re=te[0],ae=te[1];Object(r.useEffect)((function(){i&&s&&ie()}),[d]),Object(r.useEffect)((function(){return window.addEventListener("keydown",ce),function(){window.removeEventListener("keydown",ce)}}));var ie=function(){s&&(O(s.title),ee(s.description),Y(s.ingredients),C([s.image]))},ce=function(e){13===e.keyCode&&console.log("enter")},oe=function(){var e=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=12;break}if(g(!0),t={title:w,userId:p.uid,author:p.displayName||"",description:$,recipeLink:re,ingredients:G,image:E[S]},!i){e.next=8;break}return e.next=6,M(i,t);case 6:e.next=10;break;case 8:return e.next=10,I(t);case 10:ue(),g(!1);case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ue=function(){n&&n(),t&&t("../")},le=function(e){return function(n){n.preventDefault(),""===e.name&&""!==R&&""!==Q?function(e){var n=Object(Ce.a)(G).filter((function(e){return""!==e.name}));Y([].concat(Object(Ce.a)(n),[e,{name:"",amount:""}])),N(""),J("")}({name:R,amount:Q}):""!==e.name&&function(e){var n=Object(Ce.a)(G).filter((function(n){return n.name!==e.name}));Y(n)}(e)}},se=function(){var e=Object(l.a)(u.a.mark((function e(){var n,t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Je(w);case 4:(n=e.sent).items&&n.items.length>0&&(t=n.items,r=[],t.forEach((function(e){var n=P(e);n&&r.push(n)})),r.length>0&&C(r));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Re,{isOpen:!0,onDismiss:ue},a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},a.a.createElement(Ve,{style:{backgroundImage:"url(".concat(E[S]?E[S]:Le.a,")")}},E[S]&&a.a.createElement(Ke,null,a.a.createElement(H,{style:{background:"rgba(0, 0, 0, 0.3)",border:"none",color:"white"},onClick:function(){return z(0===S?E.length-1:S-1)}},"Prev"),a.a.createElement(H,{style:{background:"rgba(0, 0, 0, 0.3)",border:"none",color:"white"},onClick:function(){return z(S===E.length-1?0:S+1)}},"Next"))),a.a.createElement(He,null,a.a.createElement(q.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(L.a,{htmlFor:"name"},"Meal title"),a.a.createElement(W.a,{autoFocus:!0,onBlur:se,id:"title",name:"title",autoComplete:"off",value:w,onChange:function(e){return O(e.target.value)},style:{marginBottom:"50px"}})),a.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"100px",flexDirection:"column"}},a.a.createElement(ye.a,{component:"h2",variant:"h6",gutterBottom:!0},"Ingredients list"),G.map((function(e,n){return a.a.createElement(Xe,{key:"".concat(e.name,"-").concat(n)},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(ke.a,{value:e.name||R,onChange:function(e){return N(e.target.value)},placeholder:"Name",disabled:!!e.name}),a.a.createElement(ke.a,{value:e.amount||Q,onChange:function(e){return J(e.target.value)},placeholder:"Amount",disabled:!!e.amount}),a.a.createElement(Ge,{onClick:le(e)},e.name?"Remove":"Enter")))})),a.a.createElement(q.a,{margin:"normal",fullWidth:!0},a.a.createElement(Ie.a,{id:"description",name:"description",label:"Description",multiline:!0,rows:"4",rowsMax:"10",value:$,onChange:function(e){return ee(e.target.value)},margin:"normal"})),a.a.createElement(q.a,{margin:"normal",fullWidth:!0},a.a.createElement(L.a,{htmlFor:"name"},"Recipe link"),a.a.createElement(W.a,{id:"recipeLink",name:"recipeLink",autoComplete:"off",value:re,onChange:function(e){return ae(e.target.value)},style:{marginBottom:"50px"}}))),a.a.createElement(H,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",onClick:oe},i?"Save":"Add"))))},_e=t(163),Ze=t(78),$e=t.n(Ze),en=t(77),nn=t.n(en);t(113);function tn(){var e=Object(D.a)(["\n                display: flex;\n                justify-content: flex-end;\n                padding: 20px;\n              "]);return tn=function(){return e},e}function rn(){var e=Object(D.a)(["\n                        padding: 0 10px;\n                        font-size: 0.9rem;\n                        color: black;\n                      "]);return rn=function(){return e},e}function an(){var e=Object(D.a)(["\n                        background-image: url(",");\n                      "]);return an=function(){return e},e}function cn(){var e=Object(D.a)(["\n                      display: grid;\n                      grid-template-columns: 40% 60%;\n                      text-decoration: none;\n                    "]);return cn=function(){return e},e}function on(){var e=Object(D.a)(["\n                display: grid;\n                grid-gap: 10px;\n              "]);return on=function(){return e},e}function un(){var e=Object(D.a)(["\n                  margin: 40px 0;\n                "]);return un=function(){return e},e}function ln(){var e=Object(D.a)(["\n              padding: 20px 40px;\n            "]);return ln=function(){return e},e}function sn(){var e=Object(D.a)(["\n                  background-image: url(",");\n                  transition: filter 0.45s ease-in-out;\n                  filter: brightness(60%);\n                "]);return sn=function(){return e},e}function dn(){var e=Object(D.a)(["\n              color: white;\n              position: relative;\n            "]);return dn=function(){return e},e}function pn(){var e=Object(D.a)(["\n            left: auto;\n            right: 0;\n          "]);return pn=function(){return e},e}function fn(){var e=Object(D.a)(["\n        position: relative;\n      "]);return fn=function(){return e},e}function mn(){var e=Object(D.a)(["\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 50%;\n  height: 60px;\n  z-index: 1;\n"]);return mn=function(){return e},e}function bn(){var e=Object(D.a)(["\n  width: 100%;\n  text-align: center;\n  color: white;\n"]);return bn=function(){return e},e}function gn(){var e=Object(D.a)(["\n  border: 2px solid white;\n  padding: 15px 25px;\n  text-align: left;\n\n  p {\n    margin: 0;\n    font-weight: bold;\n  }\n"]);return gn=function(){return e},e}function An(){var e=Object(D.a)(["\n  color: white;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  transition: opacity 0.15s ease 0.1s;\n"]);return An=function(){return e},e}function hn(){var e=Object(D.a)(["\n  height: 100%;\n  padding-top: 75%;\n  display: block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n\n  @media (min-width: 640px) {\n    padding-top: 40%;\n  }\n"]);return hn=function(){return e},e}var vn=T.a.div(hn()),wn=T.a.div(An()),On=T.a.div(gn()),jn=T.a.h1(bn()),xn=Object(T.a)(H)(mn()),En=function(e){var n=e.id,t=e.navigate,r=e.onNext,a=e.onBack,i=e.onClose,c=Object(X.c)(y.doc("recipes/".concat(n))),o=Object(b.a)(c,3),s=o[0],d=o[1],p=o[2];if(!d&&p)return Object(G.c)("h1",null,String(p));var f=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(n);case 2:t&&t("../",{replace:!0});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(G.c)(Re,{isOpen:!0,onDismiss:function(){i&&i(),t&&t("../")},css:Object(G.b)(fn())},a&&Object(G.c)(xn,{onClick:a},"BACK"),r&&Object(G.c)(xn,{css:Object(G.b)(pn()),onClick:r},"NEXT"),s&&Object(G.c)("div",null,Object(G.c)("div",{css:Object(G.b)(dn())},s.image&&Object(G.c)(vn,{css:Object(G.b)(sn(),s.image)}),Object(G.c)(wn,null,Object(G.c)(jn,null,s.title),Object(G.c)(On,null,s.ingredients&&s.ingredients.map((function(e,n){return Object(G.c)("p",{key:n},e.name," - ",e.amount)}))))),Object(G.c)("div",{css:Object(G.b)(ln())},Object(G.c)("h3",null,"Similar recipes"),s.description&&Object(G.c)("p",{css:Object(G.b)(un())},s.description),Object(G.c)("div",{css:Object(G.b)(on())},s.relatedLinks&&s.relatedLinks.length>0&&s.relatedLinks.slice(0,3).map((function(e,n){return Object(G.c)("a",{href:e.link,key:n,css:Object(G.b)(cn())},Object(G.c)(vn,{css:Object(G.b)(an(),P(e))}),Object(G.c)("p",{css:Object(G.b)(rn())},e.title))}))),Object(G.c)("div",{css:Object(G.b)(tn())},Object(G.c)(_e.a,{"aria-label":"delete",onClick:function(){t&&t("edit",{replace:!0})}},Object(G.c)(nn.a,null)),Object(G.c)(_e.a,{"aria-label":"delete",onClick:f},Object(G.c)($e.a,null))))))},Cn=t(79);function yn(){var e=Object(D.a)(["\n  border: none;\n  min-height: 40px;\n  padding: 10px;\n  background: lightgoldenrodyellow;\n"]);return yn=function(){return e},e}var kn=T.a.input(yn()),In=function(e){var n=e.items,t=e.fields,i=e.onResult,c=Object(N.a)(e,["items","fields","onResult"]),o=Object(r.useRef)(null),u=Object(r.useState)(),l=Object(b.a)(u,2),s=l[0],d=l[1];Object(r.useEffect)((function(){var e=new Cn.Search("id");t.forEach((function(n){return e.addIndex(n)})),n.forEach((function(n){if(n.ingredients)for(var t=0;t<=n.ingredients.length;t++)e.addIndex(["ingredients","".concat(t),"name"])})),e.addDocuments(n),d(e)}),[n,t]);return a.a.createElement(kn,Object.assign({ref:o,onClick:function(e){return e.stopPropagation()},type:"text",placeholder:"search",onChange:function(e){if(s){var t=e.target.value;i(""===t?n:s.search(e.target.value))}},onFocus:function(e){if(o.current){var n=o.current;window.scroll({top:n.offsetTop,behavior:"smooth"})}}},c))};function Bn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Mn(){var e=Object(D.a)(["\n  background-position: center;\n  background-size: cover;\n  background-image: ",";\n  height: 45px;\n  width: 45px;\n  transition: transform 0.1s ease;\n\n  :hover {\n    transform: rotate(45deg);\n  }\n"]);return Mn=function(){return e},e}function Sn(){var e=Object(D.a)(["\n  display: block;\n  background-color: white;\n  color: black;\n  margin: 30px auto 30px;\n  font-size: 1.5rem;\n  text-align: center;\n  cursor: pointer;\n  box-shadow: 0px 3px 1px 0px rgba(0, 0, 0, 0.1);\n  width: 100%;\n\n  transition: width 0.5s ease, transform 0.25s ease;\n\n  @media (min-width: 640px) {\n    width: 40vw;\n  }\n\n  ::placeholder {\n    color: gray;\n  }\n\n  :focus {\n    text-align: left;\n    outline: none;\n    width: 100%;\n    animation: hoverEffect 0.25s;\n    animation-fill-mode: forwards;\n  }\n\n  @keyframes hoverEffect {\n    0% {\n      box-shadow: 0 0px 3px 1px 0px rgba(0, 0, 0, 0.1);\n    }\n    70% {\n      box-shadow: 0px 2px 1px 0px rgba(0, 0, 0, 0.1);\n    }\n    100% {\n      box-shadow: 0px 2px 1px 0px rgba(0, 0, 0, 0.1);\n    }\n  }\n"]);return Sn=function(){return e},e}function zn(){var e=Object(D.a)(["\n  border: none;\n  background-color: #ffe2c5;\n  padding: 25px 15px;\n  width: 100vw;\n  height: 15vh;\n  font-family: inherit;\n  cursor: pointer;\n  text-transform: uppercase;\n  box-shadow: 0 0 0 0 rgba(0, 0, 0, 1);\n  animation: pulse 2.5s infinite;\n  :hover,\n  :focus {\n    animation: none;\n    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.3);\n  }\n\n  @keyframes pulse {\n    0% {\n      box-shadow: inset 0 0 0 0 rgba(154, 97, 244, 0.4);\n    }\n\n    70% {\n      box-shadow: inset 0 0 0 15px rgba(154, 97, 244, 0);\n    }\n\n    100% {\n      box-shadow: inset 0 0 0 0 rgba(154, 97, 244, 0);\n    }\n  }\n"]);return zn=function(){return e},e}function Pn(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  padding-bottom: 20px;\n"]);return Pn=function(){return e},e}function Dn(){var e=Object(D.a)([""]);return Dn=function(){return e},e}var Fn=T.a.div(Dn()),Rn=T.a.div(Pn()),qn=Object(T.a)(H)(zn()),Ln=Object(T.a)(In)(Sn());T.a.div(Mn(),(function(e){var n=e.src;return"url(".concat(n,")")}));var Wn=function(e){var n=e.navigate,t=A(),i=Object(r.useState)(),c=Object(b.a)(i,2),o=c[0],u=c[1],l=Object(r.useState)(!1),d=Object(b.a)(l,2),p=d[0],f=d[1],m=Object(r.useState)(!1),g=Object(b.a)(m,2),h=(g[0],g[1],Object(X.a)(y.collection("recipes").where("userId","==",t?t.uid:"").orderBy("updatedAt","desc"),{idField:"id"})),v=Object(b.a)(h,1)[0],w=void 0===v?[]:v,O=Object(X.b)(y.collection("users").doc(t.uid)),j=Object(b.a)(O,1)[0];return Object(r.useEffect)((function(){w&&u(w)}),[w.length]),a.a.createElement(Fn,null,a.a.createElement(Rn,null,a.a.createElement(qn,{onClick:function(){if(w&&w.length>0&&n){var e=w[Math.floor(Math.random()*Math.floor(w.length))];n(e.id),f(!0)}}},"I want to eat!"),a.a.createElement(Ee,{recipes:j&&j.queuedRecipeIds&&j.queuedRecipeIds.map((function(e){return w.find((function(n){return n.id===e}))}))})),a.a.createElement("br",null),a.a.createElement("h2",null,"Recipes"),w&&a.a.createElement(Ln,{placeholder:"search food",items:w,fields:["title","description","ingredients","author"],onResult:function(e){return u(e)}}),o&&j&&o.length>0&&a.a.createElement(Ae,{recipes:o.map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Bn(t,!0).forEach((function(n){Object(s.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Bn(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{onCtaClick:j.queuedRecipeIds.includes(e.id)?function(){return z(e.id)}:function(){return S(e.id)}})}))}),a.a.createElement(F.b,{primary:!1},a.a.createElement(Ye,{path:"create"}),a.a.createElement(Ye,{path:":id/edit"}),a.a.createElement(En,{path:":id",onClose:function(){f(!1)},onBack:p?function(){window.history.back()}:void 0,onNext:p?function(){n&&n(function(){if(w&&w.length>0)return w[Math.floor(Math.random()*Math.floor(w.length))].id}())}:void 0})))},Nn=(t(127),t(36));var Tn=Object(Nn.a)("button",{target:"epgm3zs0"})({name:"qzhy9s",styles:"display:flex;flex-direction:column;justify-content:space-around;width:2rem;height:2rem;background:transparent;border:none;cursor:pointer;padding:0;z-index:10;&:focus{outline:none;}div{width:2rem;height:0.25rem;background:grey;border-radius:10px;transition:all 0.3s linear;position:relative;transform-origin:1px;}"});function Un(e){e.isOpen;var n=Object(N.a)(e,["isOpen"]);return a.a.createElement(Tn,n,a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))}var Qn=Object(Nn.a)("nav",{target:"ezepwuu0"})({name:"1hhy0zf",styles:"display:flex;flex-direction:column;justify-content:center;background:lightgray;height:100vh;width:50vw;text-align:left;padding:2rem;position:fixed;top:0;left:0;transition:transform 0.3s ease-in-out;transform:translateX(-100%);@media (min-width:640px){width:34vw;}a,button{text-transform:uppercase;}"});function Jn(e){var n=e.isOpen;Object(N.a)(e,["isOpen"]);return a.a.createElement(Qn,{style:{transform:n?"translateX(0)":"translateX(-100%)"}},a.a.createElement(H,{to:"/whatoeato"},"Home"),a.a.createElement("hr",null),a.a.createElement(H,{type:"submit",onClick:j},"Logout"))}function Hn(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return Hn=function(){return e},e}function Vn(){var e=Object(D.a)(["\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  margin: 0 auto;\n  padding: 10px;\n"]);return Vn=function(){return e},e}function Kn(){var e=Object(D.a)(["\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  background: rgba(255, 255, 255, 0.8);\n  z-index: 10;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.75);\n"]);return Kn=function(){return e},e}var Xn=T.a.nav(Kn()),Gn=T.a.div(Vn()),Yn=T.a.div(Hn());function _n(e){var n=e.user,t=Object(r.useState)(!1),i=Object(b.a)(t,2),c=i[0],o=i[1];return a.a.createElement(Xn,null,a.a.createElement(Gn,null,a.a.createElement(Yn,null,a.a.createElement(Un,{onClick:function(){return o(!c)},isOpen:c})),n&&a.a.createElement("div",null,a.a.createElement(te,{onClick:function(){return Object(F.c)("/whatoeato/create")}})),n&&a.a.createElement(Yn,null)),a.a.createElement(Jn,{isOpen:c}))}function Zn(){var e=Object(D.a)(["\n  display: grid;\n  width: 100%;\n  grid-gap: 20px;\n"]);return Zn=function(){return e},e}var $n=T.a.div(Zn());function et(e){return a.a.createElement($n,null,a.a.createElement(H,{type:"submit",to:"login"},"Login"),a.a.createElement(H,{type:"submit",to:"signup"},"Register"))}function nt(){var e=Object(D.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 100px;\n"]);return nt=function(){return e},e}function tt(){var e=Object(D.a)(["\n  width: auto;\n  padding: 0 10px;\n\n  @media (min-width: 420px) {\n    max-width: 1440px;\n    margin: 0 auto;\n  }\n"]);return tt=function(){return e},e}var rt=T.a.main(tt()),at=T.a.div(nt());var it=function(e){var n=h(d.auth()),t=n.initializing,r=n.user;return!0!==t?a.a.createElement(rt,null,a.a.createElement(at,null,a.a.createElement(_n,{user:r}),a.a.createElement(g.Provider,{value:{initializing:t,user:r}},a.a.createElement(F.b,{basepath:"/whatoeato",primary:!1,style:{width:"100%"}},r?a.a.createElement(Wn,{path:"/*"}):a.a.createElement(et,{path:"/*"}),a.a.createElement(V,{path:"login"}),a.a.createElement(K,{path:"signup"}))))):a.a.createElement("div",{id:"loader"},a.a.createElement(R.a,null))};t(128);c.a.render(a.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},75:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAvpJREFUeJzt2LGJFkEAhuGZ40AwMBE0thfbsQS7uFLsQcwvECs4IwNBwzExksXoZ4e993lgktnkC5YXdscAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAN5u4BbPFujPHi4P7HGOP7yVuAM805H+ec6+A87N7Gue52DwD2EQAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIm7sH3NCrOee33SMu4vUY4/7g/tcY4+fJW67oca31fveIWzh6Ca7qbozxdveIi3v59/B/T7sH3IpPAAgTAAgTAAgTAAh7Tj8Bf6+1Pu4ecQVzzg9jjDcHj76stT6dveeCns1PQILmnI9zznVwHnZv41w+ASBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACDsfvcAtvg8xnj693Kt9XXDFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBb+wMcSSgbuOV+QgAAAABJRU5ErkJggg=="},76:function(e,n,t){e.exports=t.p+"static/media/food-placeholder.86d14ad8.png"},87:function(e,n,t){e.exports=t(129)}},[[87,1,2]]]);
//# sourceMappingURL=main.ddd95469.chunk.js.map