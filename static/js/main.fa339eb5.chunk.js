(this["webpackJsonpwhat-to-eat"]=this["webpackJsonpwhat-to-eat"]||[]).push([[0],{129:function(e,n,t){},130:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(12),c=t.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(14),u=t.n(o),l=t(18),s=t(41),d=t(15),p=t(69),A=t.n(p),m=(t(100),t(61),{apiKey:"AIzaSyD99CEVcpATt7i6Jb7YNpnhQ7rhOwlWOto",googleCustomSearchApiKey:"AIzaSyBvQK3hCYE6cNRm1bqkWCPrxzjrmWIB77k",authDomain:"what-to-eato.firebaseapp.com",databaseURL:"https://what-to-eato.firebaseio.com",projectId:"what-to-eato",storageBucket:"",messagingSenderId:"18156276179",appId:"1:18156276179:web:ace837d492f4f20b7b4726"}),f=t(10),b=r.createContext({user:void 0}),g=function(){return Object(r.useContext)(b).user},h=function(){var e=a.a.useState((function(){var e=d.auth().currentUser;return{initializing:!e,user:e}})),n=Object(f.a)(e,2),t=n[0],r=n[1];function i(e){r({initializing:!1,user:e})}return a.a.useEffect((function(){var e=d.auth().onAuthStateChanged(i);return function(){return e()}}),[]),t},v=function(e,n){try{return d.auth().signInWithEmailAndPassword(e,n)}catch(t){throw console.error(t),t}},w=function(){var e=Object(l.a)(u.a.mark((function e(n,t,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.auth().createUserWithEmailAndPassword(t,r);case 3:if(!(a=e.sent).user){e.next=7;break}return e.next=7,C(a.user.uid,{name:n});case 7:return e.abrupt("return",d.auth().currentUser.updateProfile({displayName:n}));case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n,t,r){return e.apply(this,arguments)}}(),E=function(){return d.auth().currentUser},x=function(){return d.auth().signOut()};function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var j=A()("app:db");d.initializeApp(m);var y=d.firestore();y.enablePersistence().catch((function(e){console.error(e)}));var C=function(e,n){return y.collection("users").doc(e).set(n).catch((function(e){return console.log(e)}))},k=function(e){return j("save recipe: %o",e),y.collection("recipes").add(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(t,!0).forEach((function(n){Object(s.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{updatedAt:d.firestore.Timestamp.fromDate(new Date)}))},I=function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=E())){e.next=6;break}return e.next=4,y.collection("users").doc(t.uid);case 4:return r=e.sent,e.abrupt("return",r.update({queuedRecipeIds:d.firestore.FieldValue.arrayUnion(n)}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=E())){e.next=6;break}return e.next=4,y.collection("users").doc(t.uid);case 4:return r=e.sent,e.abrupt("return",r.update({queuedRecipeIds:d.firestore.FieldValue.arrayRemove(n)}));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),M=t(4),S=t(26),R=t(163),z=t(158),D=t(166),P=t(161),L=t(21),Q=t(5);function F(){var e=Object(M.a)(["\n  padding: 10px 20px;\n  background: coral;\n  border: 2px solid black;\n  text-align: center;\n  text-decoration: none;\n  color: black;\n  font-size: 1rem;\n  font-weight: bold;\n"]);return F=function(){return e},e}var W=Q.a.button(F()),J=W.withComponent(S.a),T=function(e){var n=e.children,t=e.to,r=e.onClick,i=Object(L.a)(e,["children","to","onClick"]);if(t)return a.a.createElement(J,Object.assign({to:t},i),n);return a.a.createElement(W,Object.assign({onClick:function(e){e.stopPropagation(),r&&r(e)}},i),n)};var G=function(e){var n=Object(r.useState)(""),t=Object(f.a)(n,2),i=t[0],c=t[1],o=Object(r.useState)(""),s=Object(f.a)(o,2),d=s[0],p=s[1];function A(){return(A=Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v(i,d);case 3:e.navigate("../",{replace:!0}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},a.a.createElement("h1",null,"Login with existing account"),a.a.createElement(z.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(D.a,{htmlFor:"email"},"Email Address"),a.a.createElement(P.a,{id:"email",name:"email",autoComplete:"off",autoFocus:!0,value:i,onChange:function(e){return c(e.target.value)}})),a.a.createElement(z.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(D.a,{htmlFor:"password"},"Password"),a.a.createElement(P.a,{name:"password",type:"password",id:"password",autoComplete:"off",value:d,onChange:function(e){return p(e.target.value)}})),a.a.createElement(T,{type:"submit",onClick:function(){return A.apply(this,arguments)}},"Sign in"))};var K=function(e){var n=Object(r.useState)(""),t=Object(f.a)(n,2),i=t[0],c=t[1],o=Object(r.useState)(""),s=Object(f.a)(o,2),d=s[0],p=s[1],A=Object(r.useState)(""),m=Object(f.a)(A,2),b=m[0],g=m[1];function h(){return(h=Object(l.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w(i,d,b);case 3:e.navigate("../",{replace:!0}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),alert(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},a.a.createElement("h1",null,"Create a user"),a.a.createElement(z.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(D.a,{htmlFor:"name"},"Name"),a.a.createElement(P.a,{id:"name",name:"name",autoComplete:"off",autoFocus:!0,value:i,onChange:function(e){return c(e.target.value)}})),a.a.createElement(z.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(D.a,{htmlFor:"email"},"Email Address"),a.a.createElement(P.a,{id:"email",name:"email",autoComplete:"off",value:d,onChange:function(e){return p(e.target.value)}})),a.a.createElement(z.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(D.a,{htmlFor:"password"},"Password"),a.a.createElement(P.a,{name:"password",type:"password",id:"password",autoComplete:"off",value:b,onChange:function(e){return g(e.target.value)}})),a.a.createElement(T,{type:"submit",onClick:function(){return h.apply(this,arguments)}},"Signup"))},q=t(39),N=t(9),H=t(46),Z=t.n(H);function V(){var e=Object(M.a)(["\n                    position: absolute;\n                    top: 5px;\n                    right: 5px;\n                  "]);return V=function(){return e},e}function U(){var e=Object(M.a)(["\n            border-radius: 10px;\n            overflow: hidden;\n            box-shadow: 0 0.5em 0.5em -0.4em rgba(33, 33, 33, 0.2);\n          "]);return U=function(){return e},e}function X(){var e=Object(M.a)(["\n  background-position: center;\n  background-size: cover;\n  background-image: ",";\n  height: 30px;\n  width: 30px;\n"]);return X=function(){return e},e}function Y(){var e=Object(M.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50px;\n  border: none;\n  opacity: 0.8;\n  padding: 5px;\n\n  @media (min-width: 640px) {\n    opacity: 0.8;\n    transition: all 0.1s ease-in-out;\n\n    :hover {\n      opacity: 1;\n    }\n  }\n"]);return Y=function(){return e},e}function _(){var e=Object(M.a)(["\n  position: relative;\n  height: 100%;\n  display: block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n  padding-top: 50%;\n"]);return _=function(){return e},e}function $(){var e=Object(M.a)(["\n  width: 95%;\n  margin: 0 auto;\n  background-color: #fff9f9;\n  padding: 10px 15px;\n  text-align: center;\n  margin-top: -5px;\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  z-index: 1;\n  border-radius: 10px;\n\n  box-shadow: 0 0.5em 0.5em -0.4em rgba(33, 33, 33, 0.2);\n"]);return $=function(){return e},e}function ee(){var e=Object(M.a)(["\n  display: grid;\n  grid-template-rows: 75% 25%;\n  height: 100%;\n  margin: 5px;\n  cursor: pointer;\n\n  :hover > div {\n    box-shadow: 0 0.5em 0.5em -0.2em rgba(33, 33, 33, 0.2);\n  }\n"]);return ee=function(){return e},e}function ne(){var e=Object(M.a)(["\n  height: 100%;\n  @media (min-width: 640px) {\n    max-width: 345px;\n  }\n"]);return ne=function(){return e},e}var te=Q.a.div(ne()),re=Q.a.div(ee()),ae=Q.a.div($()),ie=Q.a.div(_()),ce=Object(Q.a)(T)(Y()),oe=Q.a.div(X(),(function(e){var n=e.src;return"url(".concat(n,")")}));function ue(e){var n=e.id,t=e.title,r=(e.ingredients,e.image),a=e.onCtaClick,i=(e.ctaLabel,Object(L.a)(e,["id","title","ingredients","image","onCtaClick","ctaLabel"]));return Object(N.c)(te,i,Object(N.c)(re,{onClick:function(e){Object(S.c)("".concat("/"===window.location.pathname?"":window.location.pathname,"/").concat(n))}},Object(N.c)("div",{css:Object(N.b)(U())},r&&Object(N.c)(ie,{style:{backgroundImage:"url(".concat(r,")")}},a&&Object(N.c)(ce,{css:Object(N.b)(V()),onClick:function(){a&&a(n)}},Object(N.c)(oe,{style:{backgroundImage:"url(".concat(Z.a,")")}})))),Object(N.c)(ae,null,Object(N.c)("h2",{style:{fontSize:"18px"}},t))))}function le(){var e=Object(M.a)(["\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: repeat(1, minmax(75px, auto));\n  grid-gap: 25px;\n\n  @media (min-width: 640px) {\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-gap: 25px;\n  }\n"]);return le=function(){return e},e}var se=Q.a.div(le());function de(e){var n=e.recipes;return a.a.createElement("div",null,a.a.createElement(se,null,n&&n.length>0&&n.map((function(e,n){return a.a.createElement(ue,Object.assign({key:n,id:e.id,title:e.title},e))}))))}function pe(){var e=Object(M.a)(["\n  display: grid;\n  grid-gap: 10px;\n\n  overflow-x: scroll;\n  scroll-snap-type: x proximity;\n  padding-bottom: calc(0.75 * var(--gutter));\n  margin-bottom: calc(-0.25 * var(--gutter));\n\n  grid-template-columns: ",";\n\n  @media (min-width: 640px) {\n    grid-template-columns: ",";\n  }\n"]);return pe=function(){return e},e}function Ae(){var e=Object(M.a)(["\n  padding: 20px 0;\n  width: 100vw;\n  background: rgba(250, 135, 127, 0.49);\n\n  @media (min-width: 640px) {\n    width: 50%;\n  }\n"]);return Ae=function(){return e},e}var me=Q.a.div(Ae()),fe=Q.a.div(pe(),(function(e){var n=e.itemCount;return"repeat(".concat(n,", 60%)")}),(function(e){var n=e.itemCount;return"repeat(".concat(n,", 30%)")})),be=function(e){var n=e.recipes,t=function(e){B(e)};return a.a.createElement(me,null,a.a.createElement("div",{style:{padding:"0 20px"}},a.a.createElement("h2",null,"My Queue")),n&&n.length>0?a.a.createElement(fe,{itemCount:n.length},n.map((function(e,n){return a.a.createElement(ue,Object.assign({key:n,onCtaClick:t,ctaLabel:"Remove from queue",style:{scrollSnapAlign:"center"}},e))}))):a.a.createElement("div",null,a.a.createElement("h3",null,"Your queue is empty"),a.a.createElement("p",null,"Add items to queue from your recipe list")))},ge=t(48),he=t(162),ve=t(131),we=t(164),Ee=t(54);function xe(){var e=Object(M.a)(["\n  min-height: 100vh;\n  width: 100%;\n  margin: 0;\n  padding: 0;\n  background: white;\n\n  @media (min-width: 640px) {\n    height: 70vh;\n    width: 60vh;\n    margin: 10vh auto;\n  }\n"]);return xe=function(){return e},e}function Oe(){var e=Object(M.a)(["\n  display: none;\n\n  @media (max-width: 640px) {\n    display: block;\n    height: 40vh;\n    width: 100vw;\n    background: transparent;\n  }\n"]);return Oe=function(){return e},e}function je(){var e=Object(M.a)(["\n  display: block;\n  z-index: 12;\n\n  @media (min-width: 640px) {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n  }\n"]);return je=function(){return e},e}var ye=Object(Q.a)(Ee.b)(je()),Ce=Q.a.div(Oe()),ke=Object(Q.a)(Ee.a)(xe()),Ie=function(e){var n=e.children,t=e.isOpen,r=e.onDismiss,i=e.style;return a.a.createElement(ye,{isOpen:t,onDismiss:r},a.a.createElement(Ce,null),a.a.createElement(ke,{style:i},n))},Be=t(75),Me=t.n(Be);function Se(){var e=Object(M.a)(["\n  background: transparent;\n  padding: 7px 12px;\n  border: 2px solid lightgrey;\n  color: lightgrey;\n  border-radius: 4px;\n  font-size: 0.9rem;\n\n  :hover {\n    border-color: darkgray;\n    color: darkgray;\n  }\n"]);return Se=function(){return e},e}function Re(){var e=Object(M.a)(["\n  margin-top: 10px;\n  padding: 15px 30px;\n  box-shadow: 0 2px 9px -2px rgba(33, 33, 33, 0.2);\n"]);return Re=function(){return e},e}function ze(){var e=Object(M.a)(["\n  position: absolute;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n"]);return ze=function(){return e},e}function De(){var e=Object(M.a)(["\n  position: relative;\n  height: 100%;\n  padding-top: 56.25%;\n  display: block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return De=function(){return e},e}function Pe(){var e=Object(M.a)(["\n  padding: 20px;\n"]);return Pe=function(){return e},e}var Le=function(){var e=Object(l.a)(u.a.mark((function e(n){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"recipe",t="https://www.googleapis.com/customsearch/v1?key=".concat(m.googleCustomSearchApiKey,"&cx=007051031288274791484:letviqy3cr1&q=").concat(n,"%20").concat("recipe"),e.next=5,fetch(t);case 5:return e.next=7,e.sent.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}(),Qe=Q.a.div(Pe()),Fe=Q.a.div(De()),We=Q.a.div(ze()),Je=Q.a.div(Re()),Te=Object(Q.a)(T)(Se());var Ge=function(e){var n=e.onClose,t=e.navigate,i=g(),c=Object(r.useState)(!1),o=Object(f.a)(c,2),s=(o[0],o[1]),d=Object(r.useState)(""),p=Object(f.a)(d,2),A=p[0],m=p[1],b=Object(r.useState)([]),h=Object(f.a)(b,2),v=h[0],w=h[1],E=Object(r.useState)(0),x=Object(f.a)(E,2),O=x[0],j=x[1],y=Object(r.useState)(""),C=Object(f.a)(y,2),I=C[0],B=C[1],M=Object(r.useState)(""),S=Object(f.a)(M,2),R=S[0],L=S[1],Q=Object(r.useState)([{name:"",amount:""}]),F=Object(f.a)(Q,2),W=F[0],J=F[1],G=Object(r.useState)(""),K=Object(f.a)(G,2),q=K[0],N=K[1],H=Object(r.useState)(""),Z=Object(f.a)(H,2),V=Z[0],U=Z[1];Object(r.useEffect)((function(){return window.addEventListener("keydown",X),function(){window.removeEventListener("keydown",X)}}));var X=function(e){13===e.keyCode&&console.log("enter")},Y=function(){var e=Object(l.a)(u.a.mark((function e(n){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=7;break}return s(!0),t={title:A,userId:i.uid,author:i.displayName||"",description:q,recipeLink:V,ingredients:W,image:v[O]},e.next=5,k(t);case 5:_(),s(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),_=function(){n&&n(),t&&t("../")},$=function(e){return function(n){n.preventDefault(),""===e.name&&""!==I&&""!==R?function(e){var n=Object(ge.a)(W).filter((function(e){return""!==e.name}));J([].concat(Object(ge.a)(n),[e,{name:"",amount:""}])),B(""),L("")}({name:I,amount:R}):""!==e.name&&function(e){var n=Object(ge.a)(W).filter((function(n){return n.name!==e.name}));J(n)}(e)}},ee=function(){var e=Object(l.a)(u.a.mark((function e(){var n,t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Le(A);case 4:(n=e.sent).items&&n.items.length>0&&(t=n.items,r=[],t.forEach((function(e){var n;e.pagemap&&(e.pagemap.cse_thumbnail&&(n=e.pagemap.cse_thumbnail[0].src),e.pagemap.cse_image&&(n=e.pagemap.cse_image[0].src),e.pagemap.image&&(n=e.pagemap.image[0].src)),n&&r.push(n)})),r.length>0&&w(r));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Ie,{isOpen:!0,onDismiss:_},a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()&&!1}},a.a.createElement(Fe,{style:{backgroundImage:"url(".concat(v[O]?v[O]:Me.a,")")}},v[O]&&a.a.createElement(We,null,a.a.createElement(T,{style:{background:"rgba(0, 0, 0, 0.3)",border:"none",color:"white"},onClick:function(){return j(0===O?v.length-1:O-1)}},"Prev"),a.a.createElement(T,{style:{background:"rgba(0, 0, 0, 0.3)",border:"none",color:"white"},onClick:function(){return j(O===v.length-1?0:O+1)}},"Next"))),a.a.createElement(Qe,null,a.a.createElement(z.a,{margin:"normal",required:!0,fullWidth:!0},a.a.createElement(D.a,{htmlFor:"name"},"Meal title"),a.a.createElement(P.a,{autoFocus:!0,onBlur:ee,id:"title",name:"title",autoComplete:"off",value:A,onChange:function(e){return m(e.target.value)},style:{marginBottom:"50px"}})),a.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginBottom:"100px",flexDirection:"column"}},a.a.createElement(he.a,{component:"h2",variant:"h6",gutterBottom:!0},"Ingredients list"),W.map((function(e,n){return a.a.createElement(Je,{key:"".concat(e.name,"-").concat(n)},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(ve.a,{value:e.name||I,onChange:function(e){return B(e.target.value)},placeholder:"Name",disabled:!!e.name}),a.a.createElement(ve.a,{value:e.amount||R,onChange:function(e){return L(e.target.value)},placeholder:"Amount",disabled:!!e.amount}),a.a.createElement(Te,{onClick:$(e)},e.name?"Remove":"Enter")))})),a.a.createElement(z.a,{margin:"normal",fullWidth:!0},a.a.createElement(we.a,{id:"description",name:"description",label:"Description",multiline:!0,rows:"4",rowsMax:"10",value:q,onChange:function(e){return N(e.target.value)},margin:"normal"})),a.a.createElement(z.a,{margin:"normal",fullWidth:!0},a.a.createElement(D.a,{htmlFor:"name"},"Recipe link"),a.a.createElement(P.a,{id:"recipeLink",name:"recipeLink",autoComplete:"off",value:V,onChange:function(e){return U(e.target.value)},style:{marginBottom:"50px"}}))),a.a.createElement(T,{type:"submit",fullWidth:!0,variant:"contained",color:"secondary",onClick:Y},"Add"))))},Ke=t(79),qe=t(165),Ne=t(76),He=t.n(Ne);t(113);function Ze(){var e=Object(M.a)(["\n                  border: 2px solid white;\n                  padding: 15px 25px;\n                  text-align: left;\n\n                  p {\n                    margin: 0;\n                    font-weight: bold;\n                  }\n                "]);return Ze=function(){return e},e}function Ve(){var e=Object(M.a)(["\n                color: white;\n                position: absolute;\n                top: 0;\n                left: 0;\n                width: 100%;\n                height: 100%;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                padding: 20px;\n                transition: opacity 0.15s ease 0.1s;\n                opacity: ",";\n              "]);return Ve=function(){return e},e}function Ue(){var e=Object(M.a)(["\n                  background-image: url(",");\n                  transition: filter 0.45s ease-in-out;\n                  filter: ",";\n                "]);return Ue=function(){return e},e}function Xe(){var e=Object(M.a)(["\n              color: white;\n              position: relative;\n            "]);return Xe=function(){return e},e}function Ye(){var e=Object(M.a)(["\n  width: 100%;\n  text-align: center;\n  color: white;\n"]);return Ye=function(){return e},e}function _e(){var e=Object(M.a)(["\n  height: 100%;\n  padding-top: 75%;\n  display: block;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center;\n"]);return _e=function(){return e},e}var $e=Q.a.div(_e()),en=Q.a.h1(Ye()),nn=function(e){var n=e.id,t=e.navigate,a=e.onNext,i=e.onBack,c=e.onClose,o=Object(Ke.a)({threshold:.95}),u=Object(f.a)(o,2),l=u[0],s=u[1],d=Object(q.c)(y.doc("recipes/".concat(n))),p=Object(f.a)(d,3),A=p[0],m=p[1],b=p[2],g=Object(r.useState)(),h=Object(f.a)(g,2),v=h[0],w=h[1];if(Object(r.useEffect)((function(){A&&w({image:A.image,title:A.title,description:A.description,ingredients:A.ingredients,relatedLinks:A.relatedLinks})}),[m]),!m&&b)return Object(N.c)("h1",null,String(b));return Object(N.c)(Ie,{isOpen:!!v,onDismiss:function(){c&&c(),t&&t("../")}},v&&Object(N.c)("div",{ref:l},Object(N.c)("div",{css:Object(N.b)(Xe())},v.image&&Object(N.c)($e,{css:Object(N.b)(Ue(),v.image,s?"brightness(50%) blur(1px)":"brightness(100%)")}),Object(N.c)("div",{css:Object(N.b)(Ve(),s?1:0)},Object(N.c)(en,null,v.title),Object(N.c)("div",{css:Object(N.b)(Ze())},v.ingredients&&v.ingredients.map((function(e,n){return Object(N.c)("p",{key:n},e.name," - ",e.amount)}))))),Object(N.c)("ul",null,v.relatedLinks&&v.relatedLinks.length>0&&v.relatedLinks.slice(0,3).map((function(e,n){return Object(N.c)("a",{href:e.link,key:n},Object(N.c)(he.a,{color:"textSecondary",gutterBottom:!0},e.title))}))),Object(N.c)(he.a,null,v.description),Object(N.c)(qe.a,{"aria-label":"delete",onClick:function(){!function(e){j("delete: %s",e),y.collection("recipes").doc(e).delete()}(n)}},Object(N.c)(He.a,null))),i&&Object(N.c)("button",{onClick:i},"BACK"),a&&Object(N.c)("button",{onClick:a},"NEXT"))},tn=t(77);function rn(){var e=Object(M.a)(["\n  border: none;\n  min-height: 40px;\n  padding: 10px;\n  background: lightgoldenrodyellow;\n"]);return rn=function(){return e},e}var an=Q.a.input(rn()),cn=function(e){var n=e.items,t=e.fields,i=e.onResult,c=Object(L.a)(e,["items","fields","onResult"]),o=Object(r.useState)(),u=Object(f.a)(o,2),l=u[0],s=u[1];Object(r.useEffect)((function(){var e=new tn.Search("id");t.forEach((function(n){return e.addIndex(n)})),n.forEach((function(n){if(n.ingredients)for(var t=0;t<=n.ingredients.length;t++)e.addIndex(["ingredients","".concat(t),"name"])})),e.addDocuments(n),s(e)}),[n,t]);return a.a.createElement(an,Object.assign({onClick:function(e){return e.stopPropagation()},type:"text",placeholder:"search",onChange:function(e){if(l){var t=e.target.value;i(""===t?n:l.search(e.target.value))}}},c))},on=t(78),un=t.n(on);function ln(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sn(){var e=Object(M.a)(["\n  background-position: center;\n  background-size: cover;\n  background-image: ",";\n  height: 45px;\n  width: 45px;\n  transition: transform 0.1s ease;\n\n  :hover {\n    transform: rotate(45deg);\n  }\n"]);return sn=function(){return e},e}function dn(){var e=Object(M.a)(["\n  right: 30px;\n  left: auto;\n  display: flex;\n  align-items: center;\n  display: none;\n\n  @media (max-width: 640px) {\n    display: inherit;\n  }\n"]);return dn=function(){return e},e}function pn(){var e=Object(M.a)(["\n  background-color: white;\n  color: black;\n  margin: 50px auto 30px;\n  padding: 25px 15px;\n  font-size: 1.5rem;\n  text-align: center;\n  cursor: pointer;\n  box-shadow: 0px 3px 1px 0px rgba(0, 0, 0, 0.1);\n  width: 40vw;\n  transition: width 0.5s ease, transform 0.25s ease;\n  display: none;\n\n  @media (min-width: 640px) {\n    display: inherit;\n  }\n\n  ::placeholder {\n    color: gray;\n  }\n\n  :focus {\n    outline: none;\n    width: 80%;\n    animation: hoverEffect 0.25s;\n    animation-fill-mode: forwards;\n  }\n\n  @keyframes hoverEffect {\n    0% {\n      box-shadow: 0 0px 3px 1px 0px rgba(0, 0, 0, 0.1);\n    }\n    70% {\n      box-shadow: 0px 2px 1px 0px rgba(0, 0, 0, 0.1);\n    }\n    100% {\n      box-shadow: 0px 2px 1px 0px rgba(0, 0, 0, 0.1);\n    }\n  }\n"]);return pn=function(){return e},e}function An(){var e=Object(M.a)(["\n  z-index: 11;\n  position: fixed;\n  left: 30px;\n  bottom: 20px;\n  padding: 10px;\n  border-radius: 50px;\n  border: none;\n  opacity: 0.6;\n\n  @media (min-width: 640px) {\n    opacity: 0.3;\n    bottom: 50px;\n    transition: all 0.1s ease-in-out;\n\n    :hover {\n      opacity: 0.9;\n    }\n  }\n"]);return An=function(){return e},e}function mn(){var e=Object(M.a)(["\n  margin: 10px 0 20px;\n  border: none;\n  background-color: white;\n  padding: 25px 15px;\n  font-family: inherit;\n  cursor: pointer;\n  text-transform: uppercase;\n  box-shadow: 0 0 0 0 rgba(0, 0, 0, 1);\n  animation: pulse-black 2.5s infinite;\n  width: 100%;\n  :hover,\n  :focus {\n    animation: none;\n    box-shadow: 0 0 0 2px rgba(0, 0, 0, 0.3);\n  }\n\n  @media (min-width: 640px) {\n    width: 35vw;\n  }\n\n  @keyframes pulse-black {\n    0% {\n      box-shadow: 0 0 0 0 rgba(154, 97, 244, 0.2);\n    }\n\n    70% {\n      box-shadow: 0 0 0 10px rgba(154, 97, 244, 0);\n    }\n\n    100% {\n      box-shadow: 0 0 0 0 rgba(154, 97, 244, 0);\n    }\n  }\n"]);return mn=function(){return e},e}function fn(){var e=Object(M.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center;\n  padding: 20px 0;\n\n  @media (min-width: 640px) {\n    flex-direction: row;\n  }\n"]);return fn=function(){return e},e}function bn(){var e=Object(M.a)([""]);return bn=function(){return e},e}var gn=Q.a.div(bn()),hn=Q.a.div(fn()),vn=Object(Q.a)(T)(mn()),wn=Object(Q.a)(T)(An()),En=Object(Q.a)(cn)(pn()),xn=Object(Q.a)(wn)(dn()),On=Q.a.div(sn(),(function(e){var n=e.src;return"url(".concat(n,")")}));var jn=function(e){var n=e.navigate,t=g(),i=Object(r.useState)(),c=Object(f.a)(i,2),o=c[0],u=c[1],l=Object(r.useState)(!1),d=Object(f.a)(l,2),p=d[0],A=d[1],m=Object(r.useState)(!1),b=Object(f.a)(m,2),h=b[0],v=b[1],w=Object(q.a)(y.collection("recipes").where("userId","==",t?t.uid:"").orderBy("updatedAt","desc"),{idField:"id"}),E=Object(f.a)(w,1)[0],x=void 0===E?[]:E,O=Object(q.b)(y.collection("users").doc(t.uid)),j=Object(f.a)(O,1)[0];return Object(r.useEffect)((function(){x&&u(x)}),[x.length]),a.a.createElement(gn,null,a.a.createElement(hn,null,a.a.createElement(vn,{onClick:function(){if(x&&x.length>0&&n){var e=x[Math.floor(Math.random()*Math.floor(x.length))];n(e.id),A(!0)}}},"I want to eat!"),a.a.createElement(be,{recipes:j&&j.queuedRecipeIds&&j.queuedRecipeIds.map((function(e){return x.find((function(n){return n.id===e}))}))}),a.a.createElement(wn,{onClick:function(){return n&&n("create")}},a.a.createElement(On,{style:{backgroundImage:"url(".concat(Z.a,")")}})),a.a.createElement(xn,{onClick:function(){return v(!h)},style:{opacity:h&&"1",backgroundColor:h&&"lightgoldenrodyellow"}},x&&a.a.createElement(cn,{style:{transition:"all 0.25s ease-in-out",width:h?"calc(100vw - 160px)":"0",height:"45px",visibility:h?"visible":"hidden",padding:0,marginRight:h&&"15px",borderBottomLeftRadius:"50px",borderTopLeftRadius:"50px",fontSize:"1.2rem",paddingLeft:h?"20px":"0"},items:x,fields:["title","description","ingredients","author"],onResult:function(e){return u(e)}}),a.a.createElement(On,{style:{backgroundImage:"url(".concat(un.a,")")}}))),a.a.createElement("br",null),a.a.createElement("h2",null,"Recipes"),x&&a.a.createElement(En,{placeholder:"search food",items:x,fields:["title","description","ingredients","author"],onResult:function(e){return u(e)}}),o&&j&&o.length>0&&a.a.createElement(de,{recipes:o.map((function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ln(t,!0).forEach((function(n){Object(s.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ln(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e,{onCtaClick:j.queuedRecipeIds.includes(e.id)?function(){return B(e.id)}:function(){return I(e.id)}})}))}),a.a.createElement(S.b,{primary:!1},a.a.createElement(Ge,{path:"create"}),a.a.createElement(nn,{path:":id",onClose:function(){A(!1)},onBack:p?function(){window.history.back()}:void 0,onNext:p?function(){n&&n(function(){if(x&&x.length>0)return x[Math.floor(Math.random()*Math.floor(x.length))].id}())}:void 0})))},yn=(t(128),t(35));var Cn=Object(yn.a)("button",{target:"epgm3zs0"})({name:"qzhy9s",styles:"display:flex;flex-direction:column;justify-content:space-around;width:2rem;height:2rem;background:transparent;border:none;cursor:pointer;padding:0;z-index:10;&:focus{outline:none;}div{width:2rem;height:0.25rem;background:grey;border-radius:10px;transition:all 0.3s linear;position:relative;transform-origin:1px;}"});function kn(e){e.isOpen;var n=Object(L.a)(e,["isOpen"]);return a.a.createElement(Cn,n,a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))}var In=Object(yn.a)("nav",{target:"ezepwuu0"})({name:"11bcd0n",styles:"display:flex;flex-direction:column;justify-content:center;background:lightgray;height:100vh;width:50vw;text-align:left;padding:2rem;position:absolute;top:0;left:0;transition:transform 0.3s ease-in-out;transform:translateX(-100%);@media (min-width:640px){width:34vw;}a,button{text-transform:uppercase;}"});function Bn(e){var n=e.isOpen;Object(L.a)(e,["isOpen"]);return a.a.createElement(In,{style:{transform:n?"translateX(0)":"translateX(-100%)"}},a.a.createElement(T,{to:"/whatoeato"},"Home"),a.a.createElement("hr",null),a.a.createElement(T,{type:"submit",onClick:x},"Logout"))}function Mn(){var e=Object(M.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n"]);return Mn=function(){return e},e}function Sn(){var e=Object(M.a)(["\n  display: grid;\n  grid-template-columns: 1fr 2fr 1fr;\n  margin: 0 auto;\n  padding: 10px;\n"]);return Sn=function(){return e},e}function Rn(){var e=Object(M.a)(["\n  position: fixed;\n  top: 0;\n  width: 100%;\n  background: white;\n  z-index: 10;\n"]);return Rn=function(){return e},e}var zn=Q.a.nav(Rn()),Dn=Q.a.div(Sn()),Pn=Q.a.div(Mn());function Ln(e){var n=e.user,t=Object(r.useState)(!1),i=Object(f.a)(t,2),c=i[0],o=i[1];return a.a.createElement(zn,null,a.a.createElement(Dn,null,a.a.createElement(Pn,null,a.a.createElement(kn,{onClick:function(){return o(!c)},isOpen:c})),n&&a.a.createElement("div",null),n&&a.a.createElement(Pn,null)),a.a.createElement(Bn,{isOpen:c}))}function Qn(){var e=Object(M.a)(["\n  display: grid;\n  width: 100%;\n  grid-gap: 20px;\n"]);return Qn=function(){return e},e}var Fn=Q.a.div(Qn());function Wn(e){return a.a.createElement(Fn,null,a.a.createElement(T,{type:"submit",to:"login"},"Login"),a.a.createElement(T,{type:"submit",to:"signup"},"Register"))}function Jn(){var e=Object(M.a)(["\n  margin-top: 52px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px 30px;\n"]);return Jn=function(){return e},e}function Tn(){var e=Object(M.a)(["\n  width: auto;\n  margin: 0 5px;\n\n  @media (min-width: 420px) {\n    width: 95vw;\n    margin: 0 auto;\n  }\n"]);return Tn=function(){return e},e}var Gn=Q.a.main(Tn()),Kn=Q.a.div(Jn());var qn=function(e){var n=h(d.auth()),t=n.initializing,r=n.user;return!0!==t?a.a.createElement(Gn,null,a.a.createElement(Kn,null,a.a.createElement(Ln,{user:r}),a.a.createElement(b.Provider,{value:{initializing:t,user:r}},a.a.createElement(S.b,{basepath:"/whatoeato",primary:!1,style:{width:"100%"}},r?a.a.createElement(jn,{path:"/*"}):a.a.createElement(Wn,{path:"/*"}),a.a.createElement(G,{path:"login"}),a.a.createElement(K,{path:"signup"}))))):a.a.createElement("div",{id:"loader"},a.a.createElement(R.a,null))};t(129);c.a.render(a.a.createElement(qn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},46:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAvpJREFUeJzt2LGJFkEAhuGZ40AwMBE0thfbsQS7uFLsQcwvECs4IwNBwzExksXoZ4e993lgktnkC5YXdscAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAN5u4BbPFujPHi4P7HGOP7yVuAM805H+ec6+A87N7Gue52DwD2EQAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIEwAIm7sH3NCrOee33SMu4vUY4/7g/tcY4+fJW67oca31fveIWzh6Ca7qbozxdveIi3v59/B/T7sH3IpPAAgTAAgTAAgTAAh7Tj8Bf6+1Pu4ecQVzzg9jjDcHj76stT6dveeCns1PQILmnI9zznVwHnZv41w+ASBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACBMACDsfvcAtvg8xnj693Kt9XXDFgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIBb+wMcSSgbuOV+QgAAAABJRU5ErkJggg=="},75:function(e,n,t){e.exports=t.p+"static/media/food-placeholder.86d14ad8.png"},78:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQfjChoXKykEu7wmAAAEAklEQVRo3u2YSWhVVxjHf+9pJUMTX7RQHEKcMqGktKQqxlDIqiouBAO2GKeFCg5ZiEIodNFFFi2tYHDqwoAKFtpSBcERnKlS7aIYk2hipFqJIpljTJ55rwu/HO7Vc987dyIbv7s4l3f/3///v+e8e853TgTTyKeKMkqZwxSyyaKbQZ7RSjM3ucGQMY+HKKWeByRTXK+4wHpygpeOsIJrKaWt1wD7yA9SvpK/NTJxXtBOG4/p0zwdpoFYEOJ5NJKwUd+jgWpKmWRBTaWCWk7Ra0N28pVf+UV0WAi7+ZGylPhM1nDeZuIIWd7lNzBsEa8j1zCvnNMWC/8ww5v8bkvXH+djl9kreaSyH1HiXn6PSu/zOJK5/KI4nlPkLnm9evsOir11IAB1iueBmz5cqMa+iek+5AE2MSpcl5lglhLjoaT8G8h0slUNxHdmCUcE3uur863xvTCO8nl6cIUata8DkoeJXBXO2+mGIcIdgR4NTB6ggAHh3ZgauFxgPUwL1ADUCXMbE1PBxla8PQHLwyQeC/caZ1CRev/JgRuAncJ+0RlSL5AfQpCHLFm2R50/7vtiYEEoBqBR+Gv1j/Pl8d2Q5OFLUTilf1wjj/eFZiBbpvge3WwQ5RO5uxKagUH+AmAys3QGxtbs8IYAmqTVLM5R5gIQ52GIBlqlnaczEAOgi3iIBp5JG9MZeLOdGAhRHvql1WxdonwAwEioBoalzdAZeAlAdqgGPpRW089R+gCMS29vMbbGaA10AhAjL0QDs6V9ojNwX+6CKsR0McbdpjPQIncGdZvnKAcgqbRsUSVrwe+hyc9Rxb42MhiSXWCGO17j2CYGDjkBzgqgOiQDfwr/cifAWgGcDUV+vhT83baTBVtkS9GU4LMQDByT12tIBfpJQCcDly8hLhVhyn3ydF6JhWUBG7ggvL+lA+4VYHugk/I6YR1Jf06Qy1MBnwhMvph+4dxrAl+tttO7A5GfQpPalhmutT9LQoJ1vuWzuK66v8I0KVMdTL5miy/5PCWfZIebxGnqlCRJvenRyjtRrDo/SZwv3CXP44lKvsRMD/Jr3zrCHXBroYAWldzPLqkZzaKQc7ZTZY8WPuKihaaDrUbrZDGNjKisEXawVH2Gri1E+ZbXttPiw1Q52pjJZq7ajrbb5J9vYCHiaOJTDrDY9ssQt2iimef0kiCTHOZSQvlbs1yc/XwjtTYs5YzUxIOscLv/jFJDs+0Ple4a5dd3Jl0fA/HGRDXnbMPhdHXRQKGWw6cFgBls5w+6tMIJ7nKQZc7lRmoLEcwjSgFFFJFLDhkM0cN/tNNCt0Gur/9CMLFETVCDVI2HAah4b+G9BYlKy0dZOd4WWv2T+bPwdLwMwBJa6GTV/8Xwbhzh0os9AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEwLTI2VDIzOjQzOjQxKzAwOjAwE6+6xgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMC0yNlQyMzo0Mzo0MSswMDowMGLyAnoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},87:function(e,n,t){e.exports=t(130)}},[[87,1,2]]]);
//# sourceMappingURL=main.fa339eb5.chunk.js.map